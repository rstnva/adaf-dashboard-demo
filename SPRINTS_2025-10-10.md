# Sprints ADAF Dashboard Pro - 2025-10-10

Este archivo documenta los sprints funcionales para activar y validar el dashboard, de lo más básico a lo más avanzado. Se irá actualizando y consultando paso a paso.

---

## Sprint 1: Núcleo y navegación
- [ ] Validar carga, navegación y layout general
- [ ] Probar login/logout y flujos de usuario básico (si aplica)
- [ ] Verificar que los datos mock aparecen en los paneles principales (News, Markets, Academy)

---

### Sprint 1 - Validación: Markets

- [x] Navegación a /markets exitosa, sin links rotos.
- [x] Panel principal carga correctamente (ETF Market Overview).
- [x] Datos mock de ETF Flows y comparación BTC/ETH se muestran (fuente: endpoints `/api/read/etf/flow` y `/api/read/etf/flow2`).
- [x] Indicadores, tabla y exportación CSV funcionales.
- [x] No se detectan errores de UI ni de datos en la sección Markets.

> Validación realizada el 2025-10-10. Listo para avanzar a la siguiente sección o sprint.

---

### Sprint 1 - Validación: News

- [x] Endpoint `/api/read/news` implementado con mock data desde Prisma (NewsData).
- [x] Navegación y carga de la sección News exitosa.
- [x] Noticias mock se muestran correctamente, sin errores de UI ni links rotos.
- [x] Filtros y paginación funcionales (limit básico, impacto por defecto 'low').
- [ ] Mejorar mapeo de impacto/severity cuando se agregue a NewsData.

> Validación realizada el 2025-10-10. Listo para avanzar a la siguiente sección o sprint.

---

### Sprint 1 - Validación: Academy

- [x] Navegación y carga de la sección Academy exitosa.
- [x] Datos mock de lecciones, progreso y stats de usuario se muestran correctamente (mock en frontend).
- [x] Filtros, tabs y UI funcionales, sin errores ni links rotos.
- [ ] Integrar persistencia real en backend si se requiere en el futuro.

> Validación realizada el 2025-10-10. Sprint 1 completado: todas las secciones principales funcionan con mock data y sin errores críticos.

## Sprint 2: Ingesta y visualización de datos
- [ ] Probar endpoints de ingesta (news, signals, TVL, etc.) con mock data
- [ ] Validar que los datos nuevos se reflejan en el dashboard
- [ ] Revisar deduplicación y persistencia

---

### Sprint 2 - Validación: Ingesta y visualización de datos

- [x] Endpoints de ingesta y visualización (news, signals, TVL, derivatives, DQP, lineage, reports, onchain) accesibles y sin errores de UI en el dashboard.
- [x] Mock data visible en todos los módulos principales.
- [x] Persistencia y deduplicación de noticias validada (Prisma/DB mock).
- [x] Navegación y carga de secciones avanzadas (Derivatives, OnChain, DQP, Lineage, Reports) sin links rotos ni errores críticos.
- [x] Tests ejecutados: sólo warnings menores (archivos .d.ts faltantes en backups y variables no usadas en seed-mock), sin fallos funcionales.
- [ ] Mejorar warnings de build/test en siguientes sprints.

> Validación realizada el 2025-10-10. Listo para avanzar a Sprint 3.

## Sprint 3: Funcionalidad avanzada
- [ ] Activar y probar módulos avanzados: Reports, OnChain, Derivatives, DQP, Lineage
- [ ] Validar filtros, búsquedas, exportaciones y acciones de usuario
- [ ] Probar integración con agentes (LAV-ADAF) y flujos automáticos

---

### Sprint 3 - Validación: Funcionalidad avanzada

- [x] Navegación y carga de módulos avanzados: Reports, OnChain, Derivatives, DQP, Lineage.
- [x] Filtros, búsquedas, exportaciones y acciones de usuario funcionales en UI (mock data).
- [x] Integración básica con agentes (LAV-ADAF) visible en paneles y endpoints.
- [x] No se detectan errores críticos ni links rotos en módulos avanzados.
- [ ] Profundizar pruebas automáticas y flujos automáticos en siguientes sprints.

> Validación realizada el 2025-10-10. Listo para avanzar a Sprint 4 (calidad, errores y demo).

## Sprint 4: Calidad, errores y demo
- [ ] Ejecutar todos los tests y corregir fallos
- [ ] Revisar logs, estados de error y mensajes al usuario
- [ ] Preparar scripts de demo y documentación para inversionistas

---

### Sprint 4 - Validación: TVL ingestion y DeFiLlama (10/10/2025)

- [x] Endpoint `/api/ingest/onchain/tvl` corregido para aceptar ambos formatos (`tvl`/`change24h`/`timestamp` y `value`/`ts`), deduplicar, generar alertas por caídas (>12%) usando `change24h`, y responder con el shape/status esperado para integración DeFiLlama.
- [x] Todos los tests de `tests/tvl.ingestion.test.ts` pasan (6/6): deduplicación, validación, alertas y batch.
- [x] Se ejecutó `pnpm test` y los tests de TVL, deduplicación y adapters pasan sin errores. El sistema está listo para demo en este módulo.

> Validación realizada el 2025-10-10. Siguiente: continuar con módulos pendientes y documentar avances.

---

> Actualizado: 2025-10-10
> Consultar y actualizar este archivo en cada sesión para mantener el contexto y el avance.
