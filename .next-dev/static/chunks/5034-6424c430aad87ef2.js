"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5034],{4991:(e,r,t)=>{t.d(r,{sS:()=>i,sY:()=>s,fX:()=>f,Jh:()=>u,cK:()=>l,$M:()=>g,dj:()=>h.dj});var a=t(94804),n=t(67356);async function o(){let e=["SSV","DB"][Math.floor(Date.now()/3e4)%2];return{source:e,currentAllocation:{btc:65,eth:35},recommendedAllocation:{btc:"SSV"===e?70:60,eth:"SSV"===e?30:40},lastRebalance:new Date(Date.now()-144e5).toISOString(),confidence:"SSV"===e?.87:.92}}function i(){let{selectedAssets:e,range:r,currency:t,timezone:i}=(0,a.j)(),s=(0,n.I)({queryKey:["etf","flows",e,r,t,i],queryFn:async()=>{let a=new URLSearchParams({asset:e.join("|"),days:r.replace("D",""),provider:"any",currency:t,timezone:i}),n=await fetch("/api/read/etf/flow?".concat(a));if(!n.ok)throw Error("ETF Flows API error: ".concat(n.status));return n.json()},staleTime:6e4,retry:1}),c=(0,n.I)({queryKey:["etf","compare",r,t,i],queryFn:async()=>{let e=new URLSearchParams({range:r,currency:t,timezone:i}),a=await fetch("/api/read/etf/flow2?".concat(e));if(!a.ok)throw Error("ETF Compare API error: ".concat(a.status));return a.json()},staleTime:12e4,retry:1}),d=(0,n.I)({queryKey:["etf","autoswitch"],queryFn:o,staleTime:3e4,refetchInterval:3e4,retry:1});return{flows:{data:s.data,isLoading:s.isLoading,error:s.error,refetch:s.refetch},compare:{data:c.data,isLoading:c.isLoading,error:c.error,refetch:c.refetch},autoswitch:{data:d.data,isLoading:d.isLoading,error:d.error,refetch:d.refetch},isLoading:s.isLoading||c.isLoading||d.isLoading,error:s.error||c.error||d.error}}function s(){let{selectedAssets:e,range:r,timezone:t}=(0,a.j)(),o=(0,n.I)({queryKey:["derivs","funding",e,r,t],queryFn:async()=>{let a=new URLSearchParams({asset:e.join(","),days:r.replace("D",""),timezone:t}),n=await fetch("/api/read/derivs/funding?".concat(a));if(!n.ok)return[];let o=await n.json().catch(()=>[]);return Array.isArray(o)?o:o&&Array.isArray(null==o?void 0:o.data)?o.data:[]},staleTime:12e4,retry:1}),i=(0,n.I)({queryKey:["derivs","gamma",e,t],queryFn:async()=>{let r=new URLSearchParams({asset:e.join(","),tenors:"7,14,30",timezone:t}),a=await fetch("/api/read/derivs/gamma?".concat(r));if(!a.ok)return[];let n=await a.json().catch(()=>[]);return Array.isArray(n)?n:n&&Array.isArray(null==n?void 0:n.data)?n.data:[]},staleTime:12e4,retry:1});return{funding:{data:o.data,isLoading:o.isLoading,error:o.error,refetch:o.refetch},gamma:{data:i.data,isLoading:i.isLoading,error:i.error,refetch:i.refetch},isLoading:o.isLoading||i.isLoading,error:o.error||i.error}}var c=t(59693),d=t(74784);function l(){let{timezone:e}=(0,a.j)(),r=(0,d.jE)(),t=(0,c.useCallback)(r=>["onchain","tvl-heatmap",r,e],[e]),o=(0,c.useCallback)(async r=>{let t=new URLSearchParams({days:r.toString(),timezone:e}),a=await fetch("/api/read/onchain/tvl-heatmap?".concat(t));if(!a.ok)throw Error("TVL Heatmap API error: ".concat(a.status));return a.json()},[e]),i=(0,n.I)({queryKey:t(7),queryFn:()=>o(7),staleTime:12e4,retry:1}),s=(0,n.I)({queryKey:["onchain","stablecoin-flows",e],queryFn:async()=>[{token:"USDT",netFlow24h:45e6,netFlow7d:28e7,totalSupply:12e10,timestamp:new Date().toISOString()},{token:"USDC",netFlow24h:-12e6,netFlow7d:95e6,totalSupply:85e9,timestamp:new Date().toISOString()}],staleTime:12e4,retry:1}),l=(0,c.useCallback)(e=>r.getQueryData(t(e)),[r,t]),u=(0,c.useCallback)(async e=>r.fetchQuery({queryKey:t(e),queryFn:()=>o(e),staleTime:12e4,gcTime:36e4}),[r,t,o]),y=(0,c.useCallback)(async e=>r.prefetchQuery({queryKey:t(e),queryFn:()=>o(e),staleTime:12e4,gcTime:36e4}),[r,t,o]);return{tvlHeatmap:{data:i.data,isLoading:i.isLoading,error:i.error,refetch:i.refetch},getCachedTvlHeatmap:l,stablecoinFlows:{data:s.data,isLoading:s.isLoading,error:s.error,refetch:s.refetch},prefetchTvlHeatmap:y,getTvlHeatmapByDays:u,isLoading:i.isLoading||s.isLoading,error:i.error||s.error}}function u(){let{timezone:e}=(0,a.j)(),r=(0,n.I)({queryKey:["news",e],queryFn:async()=>{let r=new URLSearchParams({limit:"20",timezone:e}),t=await fetch("/api/read/news?".concat(r));if(!t.ok)throw Error("News API error: ".concat(t.status));return t.json()},staleTime:6e4,retry:1}),t=async r=>{let t=new URLSearchParams({impact:r,limit:"20",timezone:e}),a=await fetch("/api/read/news?".concat(t));if(!a.ok)throw Error("News API error: ".concat(a.status));return a.json()},o=(0,n.I)({queryKey:["regulation","calendar",e],queryFn:async()=>{let r=new URLSearchParams({days:"7",timezone:e}),t=await fetch("/api/read/reg/calendar?".concat(r));if(!t.ok){if(404===t.status)return[{id:"1",title:"Fed Interest Rate Decision",date:new Date(Date.now()+1728e5).toISOString(),type:"economic",importance:"high",description:"Federal Reserve announces interest rate decision"},{id:"2",title:"EU MiCA Regulation Implementation",date:new Date(Date.now()+432e6).toISOString(),type:"regulatory",importance:"medium",description:"Markets in Crypto-Assets regulation comes into effect"}];throw Error("Regulation Calendar API error: ".concat(t.status))}return t.json()},staleTime:6e4,retry:1}),i=(0,n.I)({queryKey:["regulation","items",e],queryFn:async()=>[{id:"1",title:"SEC Bitcoin ETF Guidelines Update",jurisdiction:"US",type:"guidance",effectiveDate:new Date(Date.now()+2592e6).toISOString(),summary:"Updated guidelines for Bitcoin ETF applications and compliance requirements",impact:"high"},{id:"2",title:"EU Stablecoin Reserves Requirements",jurisdiction:"EU",type:"law",effectiveDate:new Date(Date.now()+5184e6).toISOString(),summary:"New reserve requirements for stablecoin issuers in European Union",impact:"medium"}],staleTime:6e4,retry:1});return{news:{data:r.data,isLoading:r.isLoading,error:r.error,refetch:r.refetch},regulation:{data:i.data,isLoading:i.isLoading,error:i.error,refetch:i.refetch},calendar:{data:o.data,isLoading:o.isLoading,error:o.error,refetch:o.refetch},getNewsByImpact:t,isLoading:r.isLoading||i.isLoading||o.isLoading,error:r.error||i.error||o.error}}var y=t(65332);async function m(e,r){let t=await fetch(e,{headers:{"content-type":"application/json"},...r});if(!t.ok){let e=Error(await t.text()||t.statusText);throw e.status=t.status,e}return t.json()}function f(e){let r=(0,d.jE)(),t=(0,n.I)({queryKey:["news-oracle","standby"],queryFn:()=>m("/api/news/oracle/standby"),enabled:e,retry:!1});return{standby:t,triage:(0,n.I)({queryKey:["news-oracle","triage"],queryFn:()=>m("/api/news/oracle/triage"),enabled:e,retry:!1}),runPipeline:(0,y.n)({mutationFn:()=>m("/api/news/oracle/run",{method:"POST",body:JSON.stringify({})}),onSuccess:()=>{r.invalidateQueries({queryKey:["news-oracle","standby"]}),r.invalidateQueries({queryKey:["news-oracle","triage"]})}})}}var h=t(67070);function g(e){let r=(0,n.I)({queryKey:["oracle","dq-summary",null!=e?e:"all"],queryFn:async()=>{let r=new URLSearchParams;e&&r.set("feed",e);let t=await fetch("/api/read/oracle/dq/summary".concat(r.size?"?".concat(r.toString()):""));if(!t.ok)throw Error("Oracle DQ summary API error: ".concat(t.status));let a=await t.json();if(!a.ok||!a.summary)throw Error(a.error||"Oracle DQ summary payload inv\xe1lido");return a.summary},staleTime:3e4,gcTime:12e4,refetchInterval:3e4,refetchOnWindowFocus:!0,retry:1});return{summary:r.data,isLoading:r.isLoading,error:r.error,refetch:r.refetch}}},11622:(e,r,t)=>{t.d(r,{$:()=>d});var a=t(51833),n=t(59693),o=t(39728),i=t(49639),s=t(81429);let c=(0,i.F)("relative inline-flex items-center justify-center whitespace-nowrap rounded-xl text-sm font-medium tracking-tight ring-offset-background transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-amber-300/70 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 motion-safe:transform",{variants:{variant:{default:"border border-amber-300/30 bg-gradient-to-r from-amber-500/80 via-amber-400/80 to-yellow-300/80 text-zinc-900 shadow-[0_18px_50px_-25px_rgba(250,204,21,0.65)] hover:from-amber-400/90 hover:to-yellow-200/90 active:scale-95",destructive:"border border-rose-500/50 bg-rose-500/25 text-rose-100 hover:bg-rose-500/35",outline:"border border-amber-200/30 bg-transparent text-amber-100/80 hover:border-amber-200/60 hover:bg-amber-500/10 hover:text-amber-100",secondary:"border border-zinc-700/40 bg-zinc-800/60 text-amber-100 hover:bg-zinc-700/60",ghost:"text-amber-200/80 hover:text-amber-100 hover:bg-amber-500/10",link:"text-amber-200 hover:text-amber-100 underline-offset-4 hover:underline"},size:{default:"h-10 px-5",sm:"h-9 rounded-lg px-4",lg:"h-12 rounded-xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,r)=>{let{className:t,variant:n,size:i,asChild:d=!1,...l}=e,u=d?o.DX:"button";return(0,a.jsx)(u,{className:(0,s.cn)(c({variant:n,size:i,className:t})),ref:r,...l})});d.displayName="Button"},67070:(e,r,t)=>{t.d(r,{dj:()=>u});var a=t(59693);let n=0,o=new Map,i=e=>{if(o.has(e))return;let r=setTimeout(()=>{o.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,r)},s=[],c={toasts:[]};function d(e){c=((e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}})(c,e),s.forEach(e=>{e(c)})}function l(e){let{...r}=e,t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,r]=a.useState(c);return a.useEffect(()=>(s.push(r),()=>{let e=s.indexOf(r);e>-1&&s.splice(e,1)}),[]),{...e,toast:l,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},81429:(e,r,t)=>{t.d(r,{cn:()=>o});var a=t(1887),n=t(49267);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.QP)((0,a.$)(r))}},94804:(e,r,t)=>{t.d(r,{j:()=>o});var a=t(11809),n=t(68659);let o=(0,a.vt)()((0,n.Zr)((e,r)=>({selectedAssets:["BTC","ETH"],range:"7D",currency:"USD",timezone:"America/Mexico_City",asOf:"now",sidebarCollapsed:!1,searchOpen:!1,setSelectedAssets:r=>e({selectedAssets:r}),setRange:r=>e({range:r}),setCurrency:r=>e({currency:r}),setTimezone:r=>e({timezone:r}),setAsOf:r=>e({asOf:r}),toggleSidebar:()=>e(e=>({sidebarCollapsed:!e.sidebarCollapsed})),toggleSearch:()=>e(e=>({searchOpen:!e.searchOpen})),getFormattedAsOf:()=>{let e=r(),t="now"===e.asOf?new Date:e.asOf;return new Intl.DateTimeFormat("en-US",{timeZone:e.timezone,year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZoneName:"short"}).format(t)},getAssetParams:()=>r().selectedAssets.join(",")}),{name:"adaf-ui-state",partialize:e=>({selectedAssets:e.selectedAssets,range:e.range,currency:e.currency,timezone:e.timezone,sidebarCollapsed:e.sidebarCollapsed})}))}}]);