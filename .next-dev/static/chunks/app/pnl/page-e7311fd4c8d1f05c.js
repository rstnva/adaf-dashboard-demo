(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2395],{8327:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(11097).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},16402:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var s=t(51833),r=t(98574);function n(){return(0,s.jsx)(r.NavigationGuard,{fallbackUrl:"/",storageKey:"pnl-view",children:(0,s.jsxs)("div",{className:"container mx-auto px-6 py-8 space-y-4",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"PnL (Profit & Loss)"}),(0,s.jsx)("p",{className:"text-lg text-gray-600",children:"P\xe1gina central de m\xe9tricas y visualizaciones de PnL. Aqu\xed se mostrar\xe1n los gr\xe1ficos, tablas y KPIs relacionados con la evoluci\xf3n de utilidades y p\xe9rdidas."}),(0,s.jsx)("div",{className:"mt-6 rounded-lg border border-dashed bg-muted/40 p-6 text-sm text-gray-500",children:(0,s.jsx)("em",{children:"Placeholder: Integra aqu\xed los componentes de PnL, como PnlLine, PnlBucketsChart, etc."})})]})})}},25839:(e,a,t)=>{Promise.resolve().then(t.bind(t,16402))},70994:(e,a,t)=>{"use strict";t.d(a,{Cf:()=>u,Es:()=>g,L3:()=>f,c7:()=>m,lG:()=>l,rr:()=>h,zM:()=>d});var s=t(51833);t(59693);var r=t(87676),n=t(66846),o=t(81429);function l(e){let{...a}=e;return(0,s.jsx)(r.bL,{"data-slot":"dialog",...a})}function d(e){let{...a}=e;return(0,s.jsx)(r.l9,{"data-slot":"dialog-trigger",...a})}function i(e){let{...a}=e;return(0,s.jsx)(r.ZL,{"data-slot":"dialog-portal",...a})}function c(e){let{className:a,...t}=e;return(0,s.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function u(e){let{className:a,children:t,showCloseButton:l=!0,...d}=e;return(0,s.jsxs)(i,{"data-slot":"dialog-portal",children:[(0,s.jsx)(c,{}),(0,s.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...d,children:[t,l&&(0,s.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(n.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",a),...t})}function g(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...t})}function f(e){let{className:a,...t}=e;return(0,s.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",a),...t})}function h(e){let{className:a,...t}=e;return(0,s.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",a),...t})}},83738:(e,a,t)=>{"use strict";var s=t(81678);t.o(s,"useParams")&&t.d(a,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})},85127:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(11097).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},98574:(e,a,t)=>{"use strict";t.d(a,{NavigationGuard:()=>f});var s=t(51833),r=t(59693),n=t(30249),o=t.n(n),l=t(83738),d=t(11622),i=t(70994),c=t(8327),u=t(66846),m=t(85127),g=t(4991);function f(e){var a;let{hasUnsavedChanges:t=!1,onSave:n,data:f,storageKey:h,children:x,showBackButton:p=!0,backUrl:v,fallbackUrl:j="/"}=e,b=(0,l.useRouter)(),y=(0,l.usePathname)(),{toast:w}=(0,g.dj)(),[k,N]=(0,r.useState)(!1),[P,C]=(0,r.useState)(null),[L,S]=(0,r.useState)(!1),E=(0,r.useCallback)(async()=>{if(f&&h)try{let e={data:f,timestamp:Date.now(),pathname:y,expiresAt:Date.now()+2592e6};localStorage.setItem("adaf_autosave_".concat(h),JSON.stringify(e))}catch(e){console.warn("Failed to auto-save data:",e)}},[f,h,y]);(0,r.useEffect)(()=>{if(t&&f){let e=setInterval(E,3e4);return()=>clearInterval(e)}},[t,f,E]),(0,r.useEffect)(()=>{Object.keys(localStorage).filter(e=>e.startsWith("adaf_autosave_")).forEach(e=>{try{let a=JSON.parse(localStorage.getItem(e)||"{}");a.expiresAt&&a.expiresAt<Date.now()&&localStorage.removeItem(e)}catch(a){localStorage.removeItem(e)}})},[]);let A=(0,r.useCallback)(()=>v||(window.history.length>1?"back":j),[v,j]),_=(0,r.useMemo)(()=>A(),[A]),z="back"===_?null!=(a=null!=v?v:j)?a:"/":_;(0,r.useEffect)(()=>{let e=e=>{t&&(e.preventDefault(),e.returnValue="\xbfDesea salir sin guardar? Los datos se guardar\xe1n autom\xe1ticamente.",E())},a=e=>{t&&(e.preventDefault(),N(!0),C("back"),window.history.pushState(null,"",window.location.href))};return window.addEventListener("beforeunload",e),window.addEventListener("popstate",a),()=>{window.removeEventListener("beforeunload",e),window.removeEventListener("popstate",a)}},[t,E]);let D=async()=>{if(n){S(!0);try{await n(),w({title:"Datos guardados",description:"Los datos se han guardado correctamente."})}catch(e){w({title:"Error al guardar",description:"No se pudieron guardar los datos. Se guardar\xe1n autom\xe1ticamente.",variant:"destructive"})}finally{S(!1)}}await E(),N(!1);let e=null!=P?P:_;"back"===e?b.back():b.push(e)},I=async()=>{await E(),N(!1);let e=null!=P?P:_;"back"===e?b.back():b.push(e)};return(0,s.jsxs)(s.Fragment,{children:[p&&(t?(0,s.jsxs)(d.$,{variant:"ghost",size:"sm",onClick:()=>{if(t){N(!0),C(_);return}"back"===_?b.back():b.push(_)},className:"mb-4 text-muted-foreground hover:text-foreground",children:[(0,s.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Regresar"]}):(0,s.jsx)(d.$,{asChild:!0,variant:"ghost",size:"sm",className:"mb-4 text-muted-foreground hover:text-foreground",children:(0,s.jsxs)(o(),{href:z,prefetch:!1,children:[(0,s.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Regresar"]})})),x,(0,s.jsx)(i.lG,{open:k,onOpenChange:N,children:(0,s.jsxs)(i.Cf,{children:[(0,s.jsxs)(i.c7,{children:[(0,s.jsxs)(i.L3,{className:"flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"w-5 h-5 text-destructive"}),"\xbfDesea salir de esta p\xe1gina?"]}),(0,s.jsxs)(i.rr,{children:["Tienes cambios sin guardar. \xbfQu\xe9 deseas hacer?",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground mt-2 block",children:"\uD83D\uDCA1 Los datos se guardan autom\xe1ticamente cada 30 segundos y se conservan por 30 d\xedas."})]})]}),(0,s.jsxs)(i.Es,{className:"gap-2",children:[(0,s.jsx)(d.$,{variant:"outline",onClick:()=>{N(!1),C(null)},children:"Quedarse"}),(0,s.jsx)(d.$,{variant:"secondary",onClick:I,children:"Salir sin guardar"}),(0,s.jsxs)(d.$,{onClick:D,disabled:L,className:"gap-2",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),L?"Guardando...":"Guardar y salir"]})]})]})})]})}}},e=>{e.O(0,[3701,6333,249,3060,3389,4802,7913,5034,9959,1413,7358],()=>e(e.s=25839)),_N_E=e.O()}]);