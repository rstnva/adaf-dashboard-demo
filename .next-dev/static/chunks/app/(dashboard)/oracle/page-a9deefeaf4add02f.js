(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8189],{1462:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},2056:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},9570:(e,t,s)=>{"use strict";s.d(t,{ConsumerStatusPanel:()=>u});var a=s(51833);s(59693);var r=s(67356),n=s(21196),i=s(33399),l=s(93239),c=s(85623),d=s(92235);async function o(){try{let e=await fetch("/api/oracle/v1/consumers");if(null==e?void 0:e.ok)return await e.json()}catch(e){}return[{id:"wsp",name:"WSP (Whale Sentiment)",status:"active",feedsConsumed:5,lastHeartbeat:new Date(Date.now()-3e3).toISOString(),avgLatency:45},{id:"news",name:"News Engine",status:"active",feedsConsumed:2,lastHeartbeat:new Date(Date.now()-5e3).toISOString(),avgLatency:67},{id:"blackbox",name:"BlackBox Strategy",status:"active",feedsConsumed:8,lastHeartbeat:new Date(Date.now()-2e3).toISOString(),avgLatency:32},{id:"alpha",name:"Alpha Signals",status:"degraded",feedsConsumed:3,lastHeartbeat:new Date(Date.now()-45e3).toISOString(),avgLatency:230}]}function u(){let{data:e,isLoading:t}=(0,r.I)({queryKey:["consumer-status"],queryFn:o,refetchInterval:1e4}),s={active:{color:"text-green-600",bgColor:"bg-green-50",icon:l.A,label:"Active"},degraded:{color:"text-yellow-600",bgColor:"bg-yellow-50",icon:c.A,label:"Degraded"},inactive:{color:"text-red-600",bgColor:"bg-red-50",icon:d.A,label:"Inactive"}};return(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Consumer Status"}),(0,a.jsx)(n.BT,{children:"Systems consuming oracle data"})]}),(0,a.jsx)(n.Wu,{children:t?(0,a.jsx)("div",{className:"space-y-3",children:Array.from({length:4}).map((e,t)=>(0,a.jsx)("div",{className:"h-16 animate-pulse bg-muted rounded"},t))}):e&&0!==e.length?(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>{let t=s[e.status],r=t.icon,n=Math.floor((Date.now()-new Date(e.lastHeartbeat).getTime())/1e3);return(0,a.jsxs)("div",{className:"rounded-lg border p-3 hover:bg-muted/50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r,{className:"h-4 w-4 ".concat(t.color)}),(0,a.jsx)("span",{className:"font-medium text-sm",children:e.name})]}),(0,a.jsx)(i.E,{variant:"active"===e.status?"default":"degraded"===e.status?"outline":"destructive",children:t.label})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Feeds:"})," ",e.feedsConsumed]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Latency:"})," ",e.avgLatency,"ms"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Heartbeat:"})," ",n,"s ago"]})]})]},e.id)})}):(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:(0,a.jsx)("p",{className:"text-sm",children:"No active consumers"})})})]})}},11622:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(51833),r=s(59693),n=s(39728),i=s(49639),l=s(81429);let c=(0,i.F)("relative inline-flex items-center justify-center whitespace-nowrap rounded-xl text-sm font-medium tracking-tight ring-offset-background transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-amber-300/70 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 motion-safe:transform",{variants:{variant:{default:"border border-amber-300/30 bg-gradient-to-r from-amber-500/80 via-amber-400/80 to-yellow-300/80 text-zinc-900 shadow-[0_18px_50px_-25px_rgba(250,204,21,0.65)] hover:from-amber-400/90 hover:to-yellow-200/90 active:scale-95",destructive:"border border-rose-500/50 bg-rose-500/25 text-rose-100 hover:bg-rose-500/35",outline:"border border-amber-200/30 bg-transparent text-amber-100/80 hover:border-amber-200/60 hover:bg-amber-500/10 hover:text-amber-100",secondary:"border border-zinc-700/40 bg-zinc-800/60 text-amber-100 hover:bg-zinc-700/60",ghost:"text-amber-200/80 hover:text-amber-100 hover:bg-amber-500/10",link:"text-amber-200 hover:text-amber-100 underline-offset-4 hover:underline"},size:{default:"h-10 px-5",sm:"h-9 rounded-lg px-4",lg:"h-12 rounded-xl px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:d=!1,...o}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(c({variant:r,size:i,className:s})),ref:t,...o})});d.displayName="Button"},12265:(e,t,s)=>{"use strict";s.d(t,{FeedHealthHeatmap:()=>b});var a=s(51833),r=s(59693),n=s(67356),i=s(21196),l=s(33399),c=s(11622),d=s(70994),o=s(31479),u=s(84312),m=s(2056);async function x(e){return{signalId:e,feedId:"price/btc_usd.live",value:64e3,unit:"USD",confidence:.95,timestamp:new Date().toISOString(),evidence:[{source_id:"chainlink-btc",url:"https://data.chain.link/feeds/ethereum/mainnet/btc-usd",round_id:"18446744073709562891",captured_at:new Date(Date.now()-5e3).toISOString()},{source_id:"pyth-btc",price_id:"0xe62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43",url:"https://pyth.network/price-feeds/crypto-btc-usd",captured_at:new Date(Date.now()-3e3).toISOString()},{source_id:"redstone-btc",hash:"0x1234567890abcdef",url:"https://app.redstone.finance/#/app/data-services",captured_at:new Date(Date.now()-4e3).toISOString()}],consensusMethod:"weighted_median",quorumPassed:!0}}function h(e){let{signalId:t,onClose:s}=e,{data:r,isLoading:i}=(0,n.I)({queryKey:["provenance",t],queryFn:()=>x(t)});return(0,a.jsx)(d.lG,{open:!0,onOpenChange:s,children:(0,a.jsxs)(d.Cf,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)(d.c7,{children:[(0,a.jsx)(d.L3,{children:"Signal Provenance"}),(0,a.jsxs)(d.rr,{children:["Data lineage and source evidence for signal ",(0,a.jsx)("code",{className:"text-xs",children:t})]})]}),i||!r?(0,a.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-pulse",children:"Loading provenance data..."})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-lg border p-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Feed ID"}),(0,a.jsx)("div",{className:"font-mono text-sm",children:r.feedId})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Value"}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[r.value.toLocaleString()," ",r.unit]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Confidence"}),(0,a.jsxs)(l.E,{variant:r.confidence>=.9?"default":"outline",children:[(100*r.confidence).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Consensus Method"}),(0,a.jsx)(l.E,{variant:"outline",children:r.consensusMethod.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Quorum Status"}),(0,a.jsx)(l.E,{variant:r.quorumPassed?"default":"destructive",children:r.quorumPassed?"Passed":"Failed"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),"Evidence Sources (",r.evidence.length,")"]}),(0,a.jsx)("div",{className:"space-y-3",children:r.evidence.map((e,t)=>(0,a.jsxs)("div",{className:"rounded-lg border p-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"font-medium",children:e.source_id}),e.url&&(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 text-xs",children:["View Source ",(0,a.jsx)(u.A,{className:"h-3 w-3"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[e.round_id&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Round ID:"})," ",e.round_id]}),e.price_id&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Price ID:"})," ",(0,a.jsxs)("code",{className:"text-xs",children:[e.price_id.slice(0,20),"..."]})]}),e.hash&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Hash:"})," ",(0,a.jsx)("code",{className:"text-xs",children:e.hash})]}),e.block_number&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Block:"})," ",e.block_number]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,a.jsx)(m.A,{className:"h-3 w-3"}),"Captured: ",new Date(e.captured_at).toLocaleString()]})]},t))})]})]})]})})}var f=s(92235),g=s(93239),p=s(70933);async function v(){try{let e=await fetch("/api/oracle/v1/feeds/health");if(null==e?void 0:e.ok)return await e.json()}catch(e){}return[{feedId:"price/btc_usd.live",stale:!1,quorumOk:!0,confidence:.95,ttlMs:6e4,lastUpdate:new Date(Date.now()-15e3).toISOString(),sparkline:[63200,63300,63500,63400,63600,63700,63500,63800,63900,64e3],latestSignalId:"sig-abc123"},{feedId:"price/eth_usd.live",stale:!1,quorumOk:!0,confidence:.92,ttlMs:6e4,lastUpdate:new Date(Date.now()-8e3).toISOString(),sparkline:[2800,2820,2840,2850,2830,2860,2870,2880,2890,2900],latestSignalId:"sig-def456"},{feedId:"defi/tvl_total.daily",stale:!1,quorumOk:!0,confidence:.88,ttlMs:36e5,lastUpdate:new Date(Date.now()-3e5).toISOString(),sparkline:[45.2,45.5,45.8,46.1,46,45.9,46.2,46.5,46.3,46.7],latestSignalId:"sig-ghi789"},{feedId:"funding/btc_perp.live",stale:!0,quorumOk:!1,confidence:.45,ttlMs:3e5,lastUpdate:new Date(Date.now()-6e5).toISOString(),sparkline:[.01,.015,.012,.008,.01,.011,.009,.007,.006,.005],latestSignalId:"sig-jkl012"}]}function b(){let[e,t]=(0,r.useState)(null),{data:s,isLoading:d}=(0,n.I)({queryKey:["feed-health"],queryFn:v,refetchInterval:1e4});return d||!s?(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Feed Health"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"h-64 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-pulse",children:"Loading feed health data..."})})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Feed Health Heatmap"}),(0,a.jsx)(i.BT,{children:"Real-time status for all oracle feeds"})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"border-b",children:(0,a.jsxs)("tr",{className:"text-left",children:[(0,a.jsx)("th",{className:"pb-2 font-medium",children:"Feed ID"}),(0,a.jsx)("th",{className:"pb-2 font-medium text-center",children:"Stale"}),(0,a.jsx)("th",{className:"pb-2 font-medium text-center",children:"Quorum"}),(0,a.jsx)("th",{className:"pb-2 font-medium text-center",children:"Confidence"}),(0,a.jsx)("th",{className:"pb-2 font-medium text-center",children:"TTL"}),(0,a.jsx)("th",{className:"pb-2 font-medium",children:"Last Update"}),(0,a.jsx)("th",{className:"pb-2 font-medium",children:"Trend"}),(0,a.jsx)("th",{className:"pb-2 font-medium"})]})}),(0,a.jsx)("tbody",{children:s.map(e=>(0,a.jsxs)("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[(0,a.jsx)("td",{className:"py-3 font-mono text-xs",children:e.feedId}),(0,a.jsx)("td",{className:"py-3 text-center",children:e.stale?(0,a.jsx)(f.A,{className:"h-4 w-4 text-red-500 inline"}):(0,a.jsx)(g.A,{className:"h-4 w-4 text-green-500 inline"})}),(0,a.jsx)("td",{className:"py-3 text-center",children:e.quorumOk?(0,a.jsx)(g.A,{className:"h-4 w-4 text-green-500 inline"}):(0,a.jsx)(p.A,{className:"h-4 w-4 text-yellow-500 inline"})}),(0,a.jsx)("td",{className:"py-3 text-center",children:(0,a.jsxs)(l.E,{variant:e.confidence>=.9?"default":e.confidence>=.7?"outline":"destructive",children:[(100*e.confidence).toFixed(0),"%"]})}),(0,a.jsx)("td",{className:"py-3 text-center text-xs text-muted-foreground",children:e.ttlMs<6e4?"".concat(e.ttlMs/1e3,"s"):e.ttlMs<36e5?"".concat(e.ttlMs/6e4,"m"):"".concat(e.ttlMs/36e5,"h")}),(0,a.jsx)("td",{className:"py-3 text-xs",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"h-3 w-3 text-muted-foreground"}),(e=>{let t=Math.floor((Date.now()-new Date(e).getTime())/1e3);return t<60?"".concat(t,"s ago"):t<3600?"".concat(Math.floor(t/60),"m ago"):"".concat(Math.floor(t/3600),"h ago")})(e.lastUpdate)]})}),(0,a.jsx)("td",{className:"py-3",children:(0,a.jsx)(j,{data:e.sparkline})}),(0,a.jsx)("td",{className:"py-3",children:e.latestSignalId&&(0,a.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>t(e.latestSignalId),children:"Provenance"})})]},e.feedId))})]})})})]}),e&&(0,a.jsx)(h,{signalId:e,onClose:()=>t(null)})]})}function j(e){let{data:t}=e;if(!t||0===t.length)return null;let s=Math.min(...t),r=Math.max(...t)-s||1,n=t.map((e,a)=>{let n=a/(t.length-1)*60;return"".concat(n,",").concat(20-(e-s)/r*15)}).join(" ");return(0,a.jsx)("svg",{width:"60",height:"20",className:"inline-block",children:(0,a.jsx)("polyline",{points:n,fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"text-blue-500"})})}},14357:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},21196:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>i,aR:()=>l,wL:()=>u});var a=s(51833),r=s(59693),n=s(81429);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("relative overflow-hidden rounded-3xl border border-amber-300/20 bg-zinc-950/60 text-amber-100 shadow-[0_30px_90px_-40px_rgba(15,23,42,0.95)] backdrop-blur-2xl transition-all duration-300 ease-out motion-safe:transform hover:-translate-y-1 hover:shadow-[0_40px_140px_-35px_rgba(15,23,42,0.95)]",s),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-tight text-amber-100",s),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-amber-50/70",s),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0 text-amber-100/70",s),...r})});u.displayName="CardFooter"},31479:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},33399:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var a=s(51833);s(59693);var r=s(49639),n=s(81429);let i=(0,r.F)("inline-flex items-center rounded-full border border-amber-300/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-amber-100 shadow-[0_12px_30px_-18px_rgba(250,204,21,0.65)] transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-amber-300/50 focus:ring-offset-2",{variants:{variant:{default:"border-amber-300/40 bg-amber-500/20 text-zinc-900 hover:bg-amber-400/30",secondary:"border-zinc-700/40 bg-zinc-900/60 text-amber-100/80 hover:bg-zinc-800/60",destructive:"border-rose-500/50 bg-rose-500/20 text-rose-100 hover:bg-rose-500/30",outline:"border-amber-200/40 bg-transparent text-amber-100/80 hover:border-amber-200/60"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...r})}},42665:(e,t,s)=>{Promise.resolve().then(s.bind(s,9570)),Promise.resolve().then(s.bind(s,12265)),Promise.resolve().then(s.bind(s,59792)),Promise.resolve().then(s.bind(s,98758)),Promise.resolve().then(s.bind(s,49968))},43222:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},49968:(e,t,s)=>{"use strict";s.d(t,{TopSignalsPanel:()=>u});var a=s(51833);s(59693);var r=s(67356),n=s(21196),i=s(33399),l=s(79454),c=s(80571),d=s(1462);async function o(){try{let e=await fetch("/api/oracle/v1/signals/top");if(null==e?void 0:e.ok)return await e.json()}catch(e){}return[{feedId:"price/btc_usd.live",value:64e3,unit:"USD",change24h:3.2,zScore:1.8,timestamp:new Date(Date.now()-15e3).toISOString(),newsImpact:"high"},{feedId:"price/eth_usd.live",value:2900,unit:"USD",change24h:-1.5,zScore:-.4,timestamp:new Date(Date.now()-8e3).toISOString(),newsImpact:"medium"},{feedId:"defi/tvl_total.daily",value:46.7,unit:"B",change24h:.8,zScore:.2,timestamp:new Date(Date.now()-3e5).toISOString()},{feedId:"funding/btc_perp.live",value:.0012,unit:"%",change24h:15.3,zScore:2.3,timestamp:new Date(Date.now()-12e4).toISOString(),newsImpact:"high"}]}function u(){let{data:e,isLoading:t}=(0,r.I)({queryKey:["top-signals"],queryFn:o,refetchInterval:15e3});return(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Top Signals & Events"}),(0,a.jsx)(n.BT,{children:"Recent signals with notable movements"})]}),(0,a.jsx)(n.Wu,{children:t?(0,a.jsx)("div",{className:"space-y-3",children:Array.from({length:4}).map((e,t)=>(0,a.jsx)("div",{className:"h-16 animate-pulse bg-muted rounded"},t))}):e&&0!==e.length?(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>{let t=e.change24h>0,s=.1>Math.abs(e.change24h),r=s?l.A:t?c.A:d.A;return(0,a.jsxs)("div",{className:"rounded-lg border p-3 hover:bg-muted/50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-mono text-xs text-muted-foreground",children:e.feedId}),e.newsImpact&&(0,a.jsxs)(i.E,{variant:"high"===e.newsImpact?"default":"outline",className:"text-xs",children:["News: ",e.newsImpact]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-xl font-bold",children:[e.value.toLocaleString()," ",(0,a.jsx)("span",{className:"text-sm font-normal text-muted-foreground",children:e.unit})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium ".concat(t?"text-green-600":s?"text-gray-600":"text-red-600"),children:[(0,a.jsx)(r,{className:"h-4 w-4"}),t?"+":"",e.change24h.toFixed(2),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{children:["Z-Score: ",(0,a.jsx)("span",{className:Math.abs(e.zScore)>2?"text-orange-600 font-medium":"",children:e.zScore.toFixed(2)})]}),(0,a.jsx)("div",{children:new Date(e.timestamp).toLocaleTimeString()})]})]},e.feedId)})}):(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:(0,a.jsx)("p",{className:"text-sm",children:"No recent signals"})})})]})}},59792:(e,t,s)=>{"use strict";s.d(t,{OracleKpiStrip:()=>f});var a=s(51833);s(59693);var r=s(67356),n=s(21196),i=s(33399),l=s(85623),c=s(93239),d=s(89611),o=s(80571),u=s(2056),m=s(70933),x=s(43222);async function h(){try{let e=await fetch("/api/oracle/v1/metrics");if(null==e?void 0:e.ok)return await e.json()}catch(e){}return{freshness:.98,quorumHealth:.95,avgConfidence:.92,throughput:47.3,p95Latency:125,quarantineCount:2,subscribers:8}}function f(){let{data:e,isLoading:t}=(0,r.I)({queryKey:["oracle-metrics"],queryFn:h,refetchInterval:5e3});if(t||!e)return(0,a.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7",children:Array.from({length:7}).map((e,t)=>(0,a.jsx)(n.Zp,{className:"p-4",children:(0,a.jsx)("div",{className:"h-16 animate-pulse bg-muted rounded"})},t))});let s=[{label:"Freshness",value:"".concat((100*e.freshness).toFixed(1),"%"),icon:l.A,status:e.freshness>=.95?"success":e.freshness>=.9?"warning":"error",description:"Non-stale feeds"},{label:"Quorum Health",value:"".concat((100*e.quorumHealth).toFixed(1),"%"),icon:c.A,status:e.quorumHealth>=.95?"success":e.quorumHealth>=.9?"warning":"error",description:"Passing quorum"},{label:"Confidence",value:"".concat((100*e.avgConfidence).toFixed(1),"%"),icon:d.A,status:e.avgConfidence>=.9?"success":e.avgConfidence>=.8?"warning":"error",description:"Avg across feeds"},{label:"Throughput",value:"".concat(e.throughput.toFixed(1),"/s"),icon:o.A,status:"success",description:"Signals ingested"},{label:"Latency P95",value:"".concat(e.p95Latency,"ms"),icon:u.A,status:e.p95Latency<=200?"success":e.p95Latency<=500?"warning":"error",description:"Read latency"},{label:"DQ Quarantine",value:e.quarantineCount.toString(),icon:m.A,status:0===e.quarantineCount?"success":e.quarantineCount<=5?"warning":"error",description:"Signals flagged"},{label:"Subscribers",value:e.subscribers.toString(),icon:x.A,status:"success",description:"Active connections"}];return(0,a.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7",children:s.map(e=>{var t;let s=e.icon;return(0,a.jsxs)(n.Zp,{className:"p-4 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(s,{className:"h-4 w-4 ".concat(null==(t=({success:"text-green-600 bg-green-50",warning:"text-yellow-600 bg-yellow-50",error:"text-red-600 bg-red-50"})[e.status])?void 0:t.split(" ")[0])}),(0,a.jsx)(i.E,{variant:"success"===e.status?"default":"warning"===e.status?"outline":"destructive",className:"text-xs",children:e.status})]}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.label}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground/70",children:e.description})]},e.label)})})}},70933:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},70994:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>u,Es:()=>x,L3:()=>h,c7:()=>m,lG:()=>l,rr:()=>f,zM:()=>c});var a=s(51833);s(59693);var r=s(87676),n=s(66846),i=s(81429);function l(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"dialog",...t})}function c(e){let{...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,a.jsx)(r.ZL,{"data-slot":"dialog-portal",...t})}function o(e){let{className:t,...s}=e;return(0,a.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function u(e){let{className:t,children:s,showCloseButton:l=!0,...c}=e;return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(o,{}),(0,a.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...c,children:[s,l&&(0,a.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function x(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function h(e){let{className:t,...s}=e;return(0,a.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",t),...s})}function f(e){let{className:t,...s}=e;return(0,a.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...s})}},79454:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},80571:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},81429:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(1887),r=s(49267);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},84312:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},85623:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},89611:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},92235:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},93239:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(11097).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},98758:(e,t,s)=>{"use strict";s.d(t,{QualityAlertsPanel:()=>u});var a=s(51833);s(59693);var r=s(67356),n=s(21196),i=s(33399),l=s(92235),c=s(70933),d=s(14357);async function o(){try{let e=await fetch("/api/oracle/v1/alerts");if(null==e?void 0:e.ok)return await e.json()}catch(e){}return[{id:"alert-1",type:"quorum_fail",feedId:"funding/btc_perp.live",severity:"high",message:"Quorum failed: only 1 of 3 sources responded",timestamp:new Date(Date.now()-6e5).toISOString()},{id:"alert-2",type:"dq_quarantine",feedId:"price/sol_usd.live",severity:"medium",message:"Value outside 3Ïƒ range: 145.2 (expected 120-130)",timestamp:new Date(Date.now()-3e5).toISOString()}]}function u(){let{data:e,isLoading:t}=(0,r.I)({queryKey:["quality-alerts"],queryFn:o,refetchInterval:15e3}),s={critical:{color:"text-red-600",bgColor:"bg-red-50",icon:l.A},high:{color:"text-orange-600",bgColor:"bg-orange-50",icon:c.A},medium:{color:"text-yellow-600",bgColor:"bg-yellow-50",icon:d.A},low:{color:"text-blue-600",bgColor:"bg-blue-50",icon:d.A}},u={stale:"Stale Feed",quorum_fail:"Quorum Failure",dq_quarantine:"DQ Quarantine",rate_limit:"Rate Limit"};return(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Quality Alerts"}),(0,a.jsx)(n.BT,{children:"Data quality issues and anomalies"})]}),(0,a.jsx)(n.Wu,{children:t?(0,a.jsx)("div",{className:"space-y-3",children:Array.from({length:3}).map((e,t)=>(0,a.jsx)("div",{className:"h-20 animate-pulse bg-muted rounded"},t))}):e&&0!==e.length?(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>{let t=s[e.severity],r=t.icon;return(0,a.jsx)("div",{className:"rounded-lg border p-3 ".concat(t.bgColor),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(r,{className:"h-5 w-5 ".concat(t.color," mt-0.5")}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.E,{variant:"outline",className:"text-xs",children:u[e.type]}),(0,a.jsx)(i.E,{variant:"critical"===e.severity||"high"===e.severity?"destructive":"outline",className:"text-xs",children:e.severity})]}),(0,a.jsx)("p",{className:"text-sm font-medium",children:e.message}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-mono",children:e.feedId}),(0,a.jsx)("span",{children:new Date(e.timestamp).toLocaleTimeString()})]})]})]})},e.id)})}):(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)(d.A,{className:"h-12 w-12 mx-auto mb-2 opacity-30"}),(0,a.jsx)("p",{className:"text-sm",children:"No active alerts"}),(0,a.jsx)("p",{className:"text-xs",children:"All feeds operating normally"})]})})]})}}},e=>{e.O(0,[3701,6333,3060,3389,7913,9959,1413,7358],()=>e(e.s=42665)),_N_E=e.O()}]);