(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3511],{5841:(e,s,t)=>{Promise.resolve().then(t.bind(t,31130))},31130:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var a=t(51833),l=t(59693),r=t(21196),n=t(11622),i=t(33399),d=t(4991),c=t(12780),o=t(69837),x=t(54239),m=t(54840),u=t(80571),h=t(1462),g=t(34510),f=t(27367),j=t(84312),p=t(85623),v=t(81429),N=t(30249),b=t.n(N),y=t(41944);let w=[7,14,30];function S(e){let{selectableDays:s=w,defaultDays:t=14}=e,i=s.includes(t)?t:s[0],[g,f]=(0,l.useState)(i),{tvlHeatmap:j,getCachedTvlHeatmap:p,getTvlHeatmapByDays:N,prefetchTvlHeatmap:b}=(0,d.cK)(),{isLoading:y,error:S,data:D}=j,[A,k]=(0,l.useState)(()=>{var e;return null!=(e=p(i))?e:D}),[F,M]=(0,l.useState)(null),[E,C]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=!0,s=p(g);return s&&k(s),C(!s),M(null),N(g).then(s=>{e&&k(s)}).catch(s=>{e&&M(s instanceof Error?s:Error(String(s)))}).finally(()=>{e&&C(!1)}),()=>{e=!1}},[g,p,N]),(0,l.useEffect)(()=>{g===i&&D&&k(D)},[g,i,D]),(0,l.useEffect)(()=>{s.filter(e=>e!==g).forEach(e=>{b(e)})},[s,g,b]);let O=!A&&(y||E),L=null!=A?A:j.data;if(O)return(0,a.jsxs)(r.Zp,{className:"adaf-card",children:[(0,a.jsx)(o.a,{title:"TVL Heatmap",badge:"Protocol value distribution (".concat(g,"d)"),actions:(0,a.jsx)("div",{className:"flex gap-1",children:s.map(e=>(0,a.jsxs)(n.$,{variant:"outline",size:"sm",disabled:!0,children:[e,"d"]},e))})}),(0,a.jsx)(r.Wu,{className:"p-6",children:(0,a.jsx)(x.X.Table,{})})]});if(F||S)return(0,a.jsxs)(r.Zp,{className:"adaf-card",children:[(0,a.jsx)(o.a,{title:"TVL Heatmap",badge:"Protocol value distribution (".concat(g,"d)")}),(0,a.jsx)(r.Wu,{className:"p-6",children:(0,a.jsx)(m.W,{title:"TVL Data Unavailable"})})]});let T=(null==L?void 0:L.slice(0,12))||[];return(0,a.jsxs)(r.Zp,{className:"adaf-card",children:[(0,a.jsx)(o.a,{title:"TVL Heatmap",badge:"Protocol value distribution (".concat(g,"d)"),asOf:new Date().toISOString(),actions:(0,a.jsx)("div",{className:"flex gap-1",children:s.map(e=>(0,a.jsxs)(n.$,{variant:e===g?"default":"outline",size:"sm",onClick:()=>f(e),onMouseEnter:()=>b(e),onFocus:()=>b(e),disabled:E&&e===g,children:[e,"d"]},e))})}),(0,a.jsxs)(r.Wu,{className:"p-6 pt-0",id:"heatmap",children:[E&&L&&(0,a.jsx)("div",{className:"mb-3 text-xs text-muted-foreground",children:"Refreshing heatmap..."}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 mb-6",children:T.map((e,s)=>{let t=e.change7d,l=t>0,r=Math.min(Math.abs(t)/10,1);return(0,a.jsxs)("div",{className:(0,v.cn)("p-3 rounded-lg text-center transition-all hover:scale-105 cursor-pointer",l?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),style:{opacity:.6+.4*r},children:[(0,a.jsx)("div",{className:"text-xs font-medium truncate",children:e.protocol}),(0,a.jsx)("div",{className:"text-sm font-bold",children:(0,c.vv)(e.tvl,"USD",!0)}),(0,a.jsxs)("div",{className:(0,v.cn)("text-xs flex items-center justify-center gap-1",l?"text-green-600":"text-red-600"),children:[l?(0,a.jsx)(u.A,{className:"h-3 w-3"}):(0,a.jsx)(h.A,{className:"h-3 w-3"}),Math.abs(t).toFixed(1),"%"]})]},s)})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,c.vv)(T.reduce((e,s)=>e+s.tvl,0),"USD",!0)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total TVL"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:T.filter(e=>e.tvl>1e9).length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"$1B+ Protocols"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:T.length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Tracked Protocols"})]})]})]})]})}function D(){let[e,s]=(0,l.useState)(30);return(0,a.jsxs)(r.Zp,{className:"adaf-card",children:[(0,a.jsx)(o.a,{title:"Stablecoin Flows",badge:"Net inflows and outflows by stablecoin",actions:(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(n.$,{variant:7===e?"default":"outline",size:"sm",onClick:()=>s(7),children:"7D"}),(0,a.jsx)(n.$,{variant:30===e?"default":"outline",size:"sm",onClick:()=>s(30),children:"30D"})]})}),(0,a.jsxs)(r.Wu,{className:"p-6 pt-0",id:"stablecoins",children:[(0,a.jsx)("div",{className:"space-y-3",children:[{asset:"USDT",netFlow7d:12e8,netFlow30d:34e8},{asset:"USDC",netFlow7d:-8e8,netFlow30d:12e8},{asset:"DAI",netFlow7d:15e7,netFlow30d:-2e8},{asset:"BUSD",netFlow7d:-5e7,netFlow30d:-3e8}].map(s=>{let t=7===e?s.netFlow7d:s.netFlow30d,l=t>0;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:s.asset}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["7d: ",(0,c.vv)(s.netFlow7d,"USD",!0)," | 30d: ",(0,c.vv)(s.netFlow30d,"USD",!0)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)(i.E,{variant:l?"default":"secondary",className:(0,v.cn)("text-xs",l?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["Net ",e,"d"]}),(0,a.jsxs)("div",{className:(0,v.cn)("text-sm font-medium mt-1",l?"text-green-600":"text-red-600"),children:[l?"+":"",(0,c.vv)(t,"USD",!0)]})]}),(0,a.jsx)("div",{className:"w-16 h-8 bg-muted rounded flex items-center justify-center",children:(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"})})]})]},s.asset)})}),(0,a.jsx)("div",{className:"pt-4 border-t mt-4",children:(0,a.jsx)(b(),{href:"/onchain#stablecoins",passHref:!0,children:(0,a.jsxs)(n.$,{variant:"ghost",className:"w-full text-sm",children:["View More Details",(0,a.jsx)(j.A,{className:"h-4 w-4 ml-2"})]})})})]})]})}function A(){return(0,a.jsxs)(r.Zp,{className:"adaf-card",children:[(0,a.jsx)(o.a,{title:"Real Yield Opportunities",badge:"Sustainable yield across DeFi protocols",actions:(0,a.jsx)(n.$,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)(b(),{href:"/mx-1",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"MX-1 Details"]})})}),(0,a.jsxs)(r.Wu,{className:"p-6 pt-0",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{protocol:"Lido",apy:4.2,category:"Staking"},{protocol:"Aave",apy:2.8,category:"Lending"},{protocol:"Compound",apy:3.1,category:"Lending"},{protocol:"Uniswap V3",apy:12.5,category:"DEX"}].map((e,s)=>(0,a.jsx)("div",{className:"p-3 rounded-lg border border-border/40 bg-muted/20",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.protocol}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.category})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[e.apy.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"APY"})]})]})},s))}),(0,a.jsxs)("div",{className:"pt-4 border-t mt-4 text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Comprehensive real yield analysis available in MX-1 module"}),(0,a.jsx)(n.$,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)(b(),{href:"/mx-1",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Open MX-1 Dashboard"]})})]})]})]})}function k(){let e=(0,l.useMemo)(()=>[{key:"tvl-heatmap",component:(0,a.jsx)(S,{selectableDays:[7,14,30],defaultDays:14}),className:"lg:col-span-2"},{key:"stablecoin-flows",component:(0,a.jsx)(D,{}),className:"lg:col-span-1"},{key:"real-yield",component:(0,a.jsx)(A,{}),className:"lg:col-span-1"}],[]);return(0,a.jsxs)("div",{className:"space-y-6 p-6",children:[(0,a.jsxs)("nav",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)(b(),{href:"/",className:"hover:text-foreground",children:"Dashboard"}),(0,a.jsx)("span",{className:"mx-2",children:"â€º"}),(0,a.jsx)("span",{children:"On-Chain"})]}),(0,a.jsx)(y.x,{storageKey:"onchain-sleeve-layout-v1",widgets:e,gridClassName:"lg:grid-cols-2",orderAttribute:"data-onchain-order"})]})}},34510:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(11097).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},41944:(e,s,t)=>{"use strict";t.d(s,{x:()=>x});var a=t(51833),l=t(59693),r=t(35429),n=t(85023),i=t(89788);function d(e,s){let t=(Array.isArray(s)?s.filter(e=>"string"==typeof e):[]).filter(s=>e.includes(s)),a=e.filter(e=>!t.includes(e));return[...t,...a]}var c=t(81429);function o(e){let{id:s,children:t,className:l,dataKey:r}=e,{attributes:d,listeners:c,setNodeRef:o,transform:x,transition:m}=(0,n.gl)({id:s}),u={transform:i.Ks.Transform.toString(x),transition:m};return(0,a.jsx)("div",{ref:o,style:u,...d,...c,className:l,"data-widget-key":r,children:t})}function x(e){var s;let{storageKey:t,widgets:i,gridClassName:x,orderAttribute:m}=e,u=(0,r.FR)((0,r.MS)(r.AN)),h=(0,l.useMemo)(()=>i.map(e=>e.key),[i]),g=(0,l.useMemo)(()=>new Map(i.map(e=>[e.key,e])),[i]),f=(0,l.useRef)(null);if(!f.current){let e=function(e){let s=window.localStorage.getItem(e);if(s)try{let e=JSON.parse(s);return Array.isArray(e)?e.filter(e=>"string"==typeof e):void 0}catch(s){console.warn("[layout] Failed to parse stored order for ".concat(e),s);return}}(t);f.current=e?d(h,e):[...h]}let[j,p]=(0,l.useState)(null!=(s=f.current)?s:[...h]),v=(0,l.useMemo)(()=>d(h,j),[h,j]);(0,l.useEffect)(()=>{p(e=>{let s=d(h,e);return s.length===e.length&&s.every((s,t)=>e[t]===s)?e:s})},[h]),(0,l.useEffect)(()=>{v.length&&window.localStorage.setItem(t,JSON.stringify(v))},[v,t]);let N=(0,l.useCallback)(e=>{let{active:s,over:t}=e;t&&s.id!==t.id&&p(e=>{let a=d(h,e),l=a.indexOf(String(s.id)),r=a.indexOf(String(t.id));return -1===l||-1===r?a:(0,n.be)(a,l,r)})},[h]),b=m?{[m]:v.join(",")}:{};return(0,a.jsx)(r.Mp,{sensors:u,collisionDetection:r.fp,onDragEnd:N,children:(0,a.jsx)(n.gB,{items:v,strategy:n._G,children:(0,a.jsx)("div",{className:(0,c.cn)("grid gap-6 grid-cols-1",x),...b,children:v.map(e=>{let s=g.get(e);return s?(0,a.jsx)(o,{id:e,className:s.className,dataKey:e,children:(0,a.jsx)("div",{className:"h-full",children:s.component})},e):null})})})})}},85623:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(11097).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])}},e=>{e.O(0,[3701,6333,249,3060,4802,5554,5034,9224,9959,1413,7358],()=>e(e.s=5841)),_N_E=e.O()}]);